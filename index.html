<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flavio Martella - Portfolio</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- NAVBAR -->
<div class="navbar">
    <a class="active" href="index.html">Home</a>
    <a href="incisioni.html">Incisioni</a>
    <a href="editoria.html">Progetti Editoriali</a>
    <a href="illustrazioni.html">Illustrazioni</a>
    <a href="foto.html">Foto</a>
    <a href="video.html">Video</a>
    <a href="contatti.html">Contatti</a>
</div>

<h1 class="page-title">Flavio Martella</h1>

<div class="grid">

    <!-- CATEGORIA: INCISIONI -->
    <div class="card" onclick="openGallery(0)">
        <img src="img/circuitochiuso1.jpg" alt="Circuito Chiuso">
        <h3>Incisioni</h3>
        <p>Anteprima della serie Circuito Chiuso – clicca per scorrere le immagini</p>
    </div>

    <!-- CATEGORIA: PROGETTI EDITORIALI -->
    <div class="card" onclick="location.href='editoria.html'">
        <img src="img/editoria1.jpg" alt="Progetti Editoriali">
        <h3>Progetti Editoriali</h3>
        <p>Anteprima dei progetti editoriali realizzati</p>
    </div>

    <!-- CATEGORIA: ILLUSTRAZIONI -->
    <div class="card" onclick="location.href='illustrazioni.html'">
        <img src="img/illustrazione1.jpg" alt="Illustrazioni">
        <h3>Illustrazioni</h3>
        <p>Anteprima delle illustrazioni</p>
    </div>

    <!-- CATEGORIA: FOTO -->
    <div class="card" onclick="openPhoto('img/foto1.jpg', 'Foto 1', 'Descrizione foto 1')">
        <img src="img/foto1.jpg" alt="Foto">
        <h3>Foto</h3>
        <p>Clicca per vedere la foto ingrandita</p>
    </div>

    <!-- CATEGORIA: VIDEO -->
    <div class="card" onclick="openVideo('VZFh1hVdLJU', 'MANI', 'Esperimento visivo sulle mani come strumenti espressivi.')">
        <img src="img/mani.jpg" alt="MANI">
        <h3>Video</h3>
        <p>Clicca per vedere il video ingrandito</p>
    </div>

</div>

<!-- LIGHTBOX FOTO (singole) -->
<div class="lightbox" id="photoLightbox">
    <span class="close-btn" onclick="closePhoto()">&times;</span>
    <img id="photoFrame">
    <div class="caption">
        <h2 id="photoTitle"></h2>
        <p id="photoDesc"></p>
    </div>
</div>

<!-- LIGHTBOX VIDEO -->
<div class="lightbox" id="videoLightbox">
    <span class="close-btn" onclick="closeVideo()">&times;</span>
    <iframe id="videoFrame" width="900" height="506" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
    </iframe>
    <div class="caption">
        <h2 id="videoTitle"></h2>
        <p id="videoDesc"></p>
    </div>
</div>

<!-- LIGHTBOX INCISIONI (galleria scorrevole) -->
<div id="incisioniLightbox" class="lightbox" onclick="closeGallery(event)">
    <span class="close-btn" onclick="closeGallery(event)">&times;</span>
    <img id="incisioniImage">
    <button class="prev" onclick="prevImage(event)">&#10094;</button>
    <button class="next" onclick="nextImage(event)">&#10095;</button>
    <div class="caption" id="incisioniCaption">
        <h2>Circuito chiuso</h2>
        <p>
            <strong>2024</strong><br>
            Puntasecca su plexiglass<br>
            Foglio 35 × 50 cm<br>
            Matrice 205 × 295 mm<br><br>
            Agire è compimento, affermazione di sé. È attraverso l’azione che il pensiero prende corpo,
            e la produzione genera vissuto. Il vissuto, a sua volta, giustifica un’esistenza.<br><br>
            Nella pratica calcografica, il segno inciso è gesto che lascia traccia, forza che struttura,
            volontà che si imprime sulla materia.<br><br>
            Nel foglio, il bianco è spazio aperto. Qui i segni si allungano e si perdono: più ampio è lo
            spazio più vaga sarà la direzione. Solo la lastra, con la sua pressione, lo delimita.
            La battuta genera struttura, il segno trattiene energia.<br><br>
            In un circuito chiuso i segni si incontrano e scontrano, generando densità.
            Oggi le dimensioni fisiche sono smantellate: siamo connessi ma dispersi.
            Più ci si muove nel nulla, più si è nulla.
        </p>
    </div>
</div>

<script>
// ---------------- FOTO SINGOLE ----------------
function openPhoto(src, title, desc){
    document.getElementById("photoLightbox").style.display = "flex";
    document.getElementById("photoFrame").src = src;
    document.getElementById("photoTitle").textContent = title;
    document.getElementById("photoDesc").textContent = desc;
}
function closePhoto(){
    document.getElementById("photoLightbox").style.display = "none";
    document.getElementById("photoFrame").src = "";
}

// ---------------- VIDEO ----------------
function openVideo(id, title, desc){
    document.getElementById("videoLightbox").style.display = "flex";
    document.getElementById("videoFrame").src = "https://www.youtube.com/embed/" + id + "?autoplay=1";
    document.getElementById("videoTitle").textContent = title;
    document.getElementById("videoDesc").textContent = desc;
}
function closeVideo(){
    document.getElementById("videoLightbox").style.display = "none";
    document.getElementById("videoFrame").src = "";
}

// ---------------- INCISIONI (SCORRIMENTO) ----------------
const incisioniImages = [
    "img/circuitochiuso1.jpg",
    "img/circuitochiuso2.jpg"
];
let currentIndex = 0;

function openGallery(index){
    currentIndex = index;
    document.getElementById("incisioniLightbox").style.display = "flex";
    updateGallery();
}

function closeGallery(event){
    if(event.target.id === "incisioniLightbox" || event.target.classList.contains("close-btn")){
        document.getElementById("incisioniLightbox").style.display = "none";
    }
}

function nextImage(event){
    event.stopPropagation();
    currentIndex = (currentIndex +1) % incisioniImages.length;
    updateGallery();
}

function prevImage(event){
    event.stopPropagation();
    currentIndex = (currentIndex -1 + incisioniImages.length) % incisioniImages.length;
    updateGallery();
}

function updateGallery(){
    document.getElementById("incisioniImage").src = incisioniImages[currentIndex];
}
</script>

</body>
</html>
